# 🛍️ E-commerce API 명세서

## 1. 사용자 인증 API

### 회원가입
- **엔드포인트**: `POST /api/users/register`
- **설명**: 새로운 사용자 계정을 생성합니다.
- **요청 본문**:
```json
{
    "email": "user@example.com",
    "password": "password123",
    "name": "홍길동"
}
```
- **응답**: 성공 시 "회원가입이 완료되었습니다." 메시지 반환

### 로그인
- **엔드포인트**: `POST /api/users/login`
- **설명**: 사용자 인증 후 JWT 토큰을 발급합니다.
- **요청 본문**:
```json
{
    "email": "user@example.com",
    "password": "password123"
}
```
- **응답**: JWT 토큰 문자열

### 내 정보 조회
- **엔드포인트**: `GET /api/users/me`
- **설명**: 현재 로그인한 사용자의 정보를 조회합니다.
- **인증**: 필요
- **응답**: 사용자 정보 객체

## 2. 상품 API

### 상품 목록 조회
- **엔드포인트**: `GET /api/products`
- **설명**: 전체 상품 목록을 조회합니다.
- **인증**: 필요
- **응답**: 상품 목록 배열

### 상품 상세 조회
- **엔드포인트**: `GET /api/products/{id}`
- **설명**: 특정 상품의 상세 정보를 조회합니다.
- **인증**: 필요
- **응답**: 상품 상세 정보 객체

## 3. 장바구니 API

### 장바구니 상품 추가
- **엔드포인트**: `POST /api/cart`
- **설명**: 장바구니에 상품을 추가합니다.
- **인증**: 필요
- **요청 본문**:
```json
{
    "productId": 1,
    "quantity": 2
}
```
- **응답**: 추가된 장바구니 항목 정보

### 장바구니 조회
- **엔드포인트**: `GET /api/cart`
- **설명**: 현재 사용자의 장바구니 내용을 조회합니다.
- **인증**: 필요
- **응답**: 장바구니 항목 목록

## 4. 주문 API

### 주문 생성
- **엔드포인트**: `POST /api/orders`
- **설명**: 새로운 주문을 생성합니다.
- **인증**: 필요
- **응답**: 생성된 주문 정보

### 주문 목록 조회
- **엔드포인트**: `GET /api/orders`
- **설명**: 사용자의 주문 목록을 조회합니다.
- **인증**: 필요
- **응답**: 주문 목록 배열

### 주문 상세 조회
- **엔드포인트**: `GET /api/orders/{id}`
- **설명**: 특정 주문의 상세 정보를 조회합니다.
- **인증**: 필요
- **응답**: 주문 상세 정보

### 주문 취소
- **엔드포인트**: `PATCH /api/orders/{id}/cancel`
- **설명**: 주문을 취소합니다.
- **인증**: 필요
- **응답**: 수정된 주문 정보

## 5. 결제 API

### 결제 처리
- **엔드포인트**: `POST /api/payments`
- **설명**: 주문에 대한 결제를 처리합니다.
- **인증**: 필요
- **요청 본문**:
```json
{
    "orderId": 1,
    "paymentMethod": "CARD"
}
```
- **응답**:
```json
{
    "paymentId": "pay_123456",
    "status": "SUCCESS",
    "message": "결제가 성공적으로 처리되었습니다."
}
```

## 6. 관리자 API

### 상품 관리

#### 상품 등록
- **엔드포인트**: `POST /api/admin/products`
- **설명**: 새로운 상품을 등록합니다.
- **권한**: ADMIN
- **요청 본문**:
```json
{
    "name": "상품명",
    "price": 50000,
    "description": "상품 설명",
    "stock": 100
}
```
- **응답**: 생성된 상품 정보

#### 상품 수정
- **엔드포인트**: `PUT /api/admin/products/{id}`
- **설명**: 기존 상품 정보를 수정합니다.
- **권한**: ADMIN
- **요청 본문**: 상품 등록과 동일
- **응답**: 수정된 상품 정보

#### 상품 삭제
- **엔드포인트**: `DELETE /api/admin/products/{id}`
- **설명**: 상품을 삭제합니다.
- **권한**: ADMIN
- **응답**: 없음 (204 No Content)

### 주문 관리

#### 주문 상태 변경
- **엔드포인트**: `PATCH /api/admin/orders/{id}/status`
- **설명**: 주문의 상태를 변경합니다.
- **권한**: ADMIN
- **요청 본문**:
```json
{
    "status": "SHIPPED"
}
```
- **응답**: 수정된 주문 정보

## 인증 헤더
모든 인증이 필요한 API 요청에는 다음 헤더를 포함해야 합니다:
```
Authorization: Bearer {JWT_TOKEN}
```

## 에러 응답
에러 발생 시 다음과 같은 형식으로 응답합니다:
```json
{
    "message": "에러 메시지",
    "status": 400
}
```

## 주문 상태 코드
- `PENDING`: 주문 대기
- `PAID`: 결제 완료
- `SHIPPED`: 배송 중
- `DELIVERED`: 배송 완료
- `CANCELLED`: 주문 취소
